import{j as f}from"./index-c7514c34.js";import{C as p}from"./Form.styled-b93a2fe6.js";const v=/[^A-zА-яЁё+ ()-]/,h=/^.{6,16}$/,g=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,s={empty:"This field is empty!",name:"The name cannot contain numbers",phone:"Wrong Phone format!",email:"Wrong E-Mail format!",checkbox:"This field is required!",radio:"Select one of the values",max:"Maximum is: ",min:"Minimum is:",password:"Can be from 6 to 16 characters",maxLange:"Field must be no more than ",minLange:"Field must be at least "},L=i=>{const e=i;let a=`Success ${e.name}`;const t=e.closest("fieldset"),r=(e.type==="radio"?t:e.closest("label"))||t;r.classList.remove("invalid"),r.classList.add("valid");const m=n=>{const c=r.querySelector("em");if(c){c.innerHTML=`<em><svg width="14" height="14" view-box="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.99998 13.6666C3.31798 13.6666 0.333313 10.682 0.333313 6.99998C0.333313 3.31798 3.31798 0.333313 6.99998 0.333313C10.682 0.333313 13.6666 3.31798 13.6666 6.99998C13.6666 10.682 10.682 13.6666 6.99998 13.6666ZM6.22931 9.98998L10.9426 5.27598L9.99998 4.33331L6.22931 8.10465L4.34331 6.21865L3.40065 7.16131L6.22931 9.98998Z" fill='currentColor'></path></svg>${n}</em>`;return}r.insertAdjacentHTML("beforeend",`<em><svg width="14" height="14" view-box="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.99998 13.6666C3.31798 13.6666 0.333313 10.682 0.333313 6.99998C0.333313 3.31798 3.31798 0.333313 6.99998 0.333313C10.682 0.333313 13.6666 3.31798 13.6666 6.99998C13.6666 10.682 10.682 13.6666 6.99998 13.6666ZM6.22931 9.98998L10.9426 5.27598L9.99998 4.33331L6.22931 8.10465L4.34331 6.21865L3.40065 7.16131L6.22931 9.98998Z" fill='currentColor'></path></svg>${n}</em>`)};m(a);const o=n=>{a=n,m(n),r.classList.remove("valid"),r.classList.add("invalid")},u=()=>{const n=r.querySelectorAll('input[type="radio"]');if(r.querySelectorAll('input[type="radio"]:checked').length){n.forEach(d=>{d.classList.remove("invalid"),d.removeAttribute("required")}),r.querySelector("em").remove();return}o(s.radio)};return e.value.length?e.type==="number"?(e.min&&Number(e.value)<e.min&&o(`${s.min} ${e.min}`),e.max&&Number(e.value)>e.max&&o(`${s.max} ${e.max}`)):(e.name==="password"&&!h.test(e.value)&&o(s.password),e.min&&Number(e.value.length)<e.min&&o(`${s.minLange} ${e.min} characters`),e.max&&Number(e.value.length)>e.max&&o(`${s.maxLange} ${e.max} characters`),e.name==="name"&&v.test(e.value)&&o(s.name),e.type==="email"&&!g.test(e.value)&&o(s.email),e.type==="radio"&&u()):o(s.empty),a},x=i=>{let e=0;return i.querySelectorAll("[required]").forEach(t=>{L(t).includes("Success")||(e+=1)}),e},y=i=>{i.querySelectorAll("input").forEach(a=>{if(a.type!=="hidden"){a.value="";const t=a.type==="radio"?a.closest("fieldset"):a.closest("label"),l=t.querySelector("em");t.classList.remove("valid","invalid"),l&&l.remove()}})},C=({isloading:i,enctype:e,children:a,onSubmit:t})=>{const l=r=>{r.preventDefault(),!(x(r.target)>0)&&t&&t(r)};return f.jsx(p,{action:"#",method:"post",noValidate:!0,onSubmit:l,enctype:e,"data-loading":i?"true":"false",children:a})};export{C as F,y as c,L as v};
