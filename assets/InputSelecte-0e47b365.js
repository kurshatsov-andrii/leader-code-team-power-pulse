import{j as s,r as p,I as w}from"./index-7e1af324.js";import{C as M,L as S,a as g,I as L,b as I,c as E,S as T,d as A,A as R,O as k}from"./InputSelecte.styled-a6425b8f.js";const y=/[^A-zА-яЁё+ ()-]/,F=/^.{6,16}$/,O=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,f={empty:"This field is empty!",name:"The name cannot contain numbers",phone:"Wrong Phone format!",email:"Wrong E-Mail format!",checkbox:"This field is required!",radio:"Select one of the values",max:"Maximum is: ",min:"Minimum is:",password:"Can be from 6 to 16 characters",maxLange:"Field must be no more than ",minLange:"Field must be at least "},C=r=>{const e=r;let t=`Success ${e.name}`;const a=e.closest("fieldset"),o=e.closest("label"),l=a||o;l.classList.remove("invalid"),l.classList.add("valid");const i=c=>{const u=l.querySelector("em");if(u){u.innerHTML=`<em><svg width="14" height="14" view-box="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.99998 13.6666C3.31798 13.6666 0.333313 10.682 0.333313 6.99998C0.333313 3.31798 3.31798 0.333313 6.99998 0.333313C10.682 0.333313 13.6666 3.31798 13.6666 6.99998C13.6666 10.682 10.682 13.6666 6.99998 13.6666ZM6.22931 9.98998L10.9426 5.27598L9.99998 4.33331L6.22931 8.10465L4.34331 6.21865L3.40065 7.16131L6.22931 9.98998Z" fill='currentColor'></path></svg>${c}</em>`;return}l.insertAdjacentHTML("beforeend",`<em><svg width="14" height="14" view-box="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.99998 13.6666C3.31798 13.6666 0.333313 10.682 0.333313 6.99998C0.333313 3.31798 3.31798 0.333313 6.99998 0.333313C10.682 0.333313 13.6666 3.31798 13.6666 6.99998C13.6666 10.682 10.682 13.6666 6.99998 13.6666ZM6.22931 9.98998L10.9426 5.27598L9.99998 4.33331L6.22931 8.10465L4.34331 6.21865L3.40065 7.16131L6.22931 9.98998Z" fill='currentColor'></path></svg>${c}</em>`)};i(t);const n=c=>{t=c,i(c),l.classList.remove("valid"),l.classList.add("invalid")};return e.value.length?e.type==="number"?(e.min&&Number(e.value)<e.min&&n(`${f.min} ${e.min}`),e.max&&Number(e.value)>e.max&&n(`${f.max} ${e.max}`)):(e.name==="password"&&!F.test(e.value)&&n(f.password),e.min&&Number(e.value.length)<e.min&&n(`${f.minLange} ${e.min} characters`),e.max&&Number(e.value.length)>e.max&&n(`${f.maxLange} ${e.max} characters`),e.name==="name"&&y.test(e.value)&&n(f.name),e.type==="email"&&!O.test(e.value)&&n(f.email)):n(f.empty),t},V=r=>{let e=0;return r.querySelectorAll("[required]").forEach(a=>{C(a).includes("Success")||(e+=1)}),e},P=r=>{r.querySelectorAll("input").forEach(t=>{if(t.type!=="hidden"){t.value="";const a=t.type==="radio"?t.closest("fieldset"):t.closest("label"),o=a.querySelector("em");a.classList.remove("valid","invalid"),o&&o.remove()}})},q=({isloading:r,enctype:e,children:t,onSubmit:a})=>{const o=l=>{l.preventDefault(),!(V(l.target)>0)&&a&&a(l)};return s.jsx(M,{action:"#",method:"post",noValidate:!0,onSubmit:o,enctype:e,"data-loading":r?"true":"false",children:t})},_=({type:r,name:e,required:t,label:a,placeholder:o,value:l="",min:i,max:n,icon:c,options:u,onChange:m})=>{const[d,x]=p.useState(l),h=v=>{t&&C(v.target),x(v.target.value),m&&m(v)};return s.jsx(s.Fragment,{children:r==="hidden"?s.jsx(z,{type:r,name:e,value:d}):r==="password"?s.jsx(W,{type:r,name:e,value:d,label:a,placeholder:o,required:t,onChange:h}):r==="select"?s.jsx(D,{type:r,name:e,value:d,label:a,placeholder:o,required:t,options:u,onChange:m}):s.jsx(Z,{type:r,name:e,label:a,value:d,required:t,placeholder:o,min:i,max:n,icon:c,onChange:h})})},Z=({type:r,name:e,label:t,value:a,placeholder:o,min:l,max:i,icon:n,required:c,onChange:u})=>s.jsxs(S,{children:[t&&s.jsx(g,{children:t}),s.jsxs(L,{children:[s.jsx(I,{type:r,name:e,value:a,required:c,placeholder:o,min:l,max:i,"data-icon":n,onChange:u}),n&&s.jsx(E,{children:s.jsx(w,{name:n})})]})]}),W=({type:r="password",name:e,label:t,value:a,placeholder:o,min:l,icon:i="password",max:n,required:c,onChange:u})=>{const[m,d]=p.useState(i),[x,h]=p.useState(r);p.useEffect(()=>{if(m==="password"){h("password");return}h("text")},[m]);const v=()=>{if(m==="password"){d("password2");return}d("password")};return s.jsxs(S,{children:[t&&s.jsx(g,{children:t}),s.jsxs(L,{children:[s.jsx(I,{type:x,name:e,value:a,required:c,placeholder:o,min:l,max:n,onChange:u}),s.jsx(E,{onClick:v,children:s.jsx(w,{name:m})})]})]})},z=({type:r,name:e,value:t})=>s.jsx("input",{type:r,name:e,value:t}),D=({type:r,name:e,label:t,placeholder:a,required:o,options:l,onChange:i})=>{const[n,c]=p.useState(""),[u,m]=p.useState(!1),d=p.useRef(null),x=p.useRef(null);p.useEffect(()=>{n&&(o&&C(d.current),i(d.current))},[n,i,o]);const h=j=>{c(j)},v=()=>{m(!u)},b=j=>{x.current&&!x.current.contains(j.target)&&m(!1)};return p.useEffect(()=>(document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}),[u]),s.jsxs(T,{className:u===!0?"open":"",onClick:v,ref:x,children:[t&&s.jsx(g,{children:t}),s.jsxs(L,{children:[s.jsx(I,{type:r,name:e,required:o,placeholder:a,value:n,onChange:i,ref:d}),s.jsx(A,{children:s.jsx(w,{name:"arrow",size:"12"})}),s.jsx(R,{}),s.jsx(k,{children:s.jsx("ul",{children:l.map((j,$)=>s.jsx("li",{onClick:()=>h(j),children:j},$))})})]})]})};export{q as F,_ as I,P as c};
