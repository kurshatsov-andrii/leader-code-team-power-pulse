import{j as p}from"./index-8a3a50d9.js";import{m as f}from"./Fieldset.styled-6a51245f.js";const v=/[^A-zА-яЁё+ ()-]/,h=/^.{6,16}$/,L=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,i={empty:"This field is empty!",name:"The name cannot contain numbers",phone:"Wrong Phone format!",email:"Wrong E-Mail format!",checkbox:"This field is required!",radio:"Select one of the values",max:"Maximum is: ",min:"Minimum is:",password:"Can be from 6 to 16 characters",maxLange:"Field must be no more than ",minLange:"Field must be at least "},g=t=>{const e=t;let r=`Success ${e.name}`;const o=e.closest("fieldset"),a=(e.type==="radio"?o:e.closest("label"))||o;a.classList.remove("invalid"),a.classList.add("valid");const c=n=>{const m=a.querySelector("em");if(m){m.innerHTML=`<em><svg width="14" height="14" view-box="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.99998 13.6666C3.31798 13.6666 0.333313 10.682 0.333313 6.99998C0.333313 3.31798 3.31798 0.333313 6.99998 0.333313C10.682 0.333313 13.6666 3.31798 13.6666 6.99998C13.6666 10.682 10.682 13.6666 6.99998 13.6666ZM6.22931 9.98998L10.9426 5.27598L9.99998 4.33331L6.22931 8.10465L4.34331 6.21865L3.40065 7.16131L6.22931 9.98998Z" fill='currentColor'></path></svg>${n}</em>`;return}a.insertAdjacentHTML("beforeend",`<em><svg width="14" height="14" view-box="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.99998 13.6666C3.31798 13.6666 0.333313 10.682 0.333313 6.99998C0.333313 3.31798 3.31798 0.333313 6.99998 0.333313C10.682 0.333313 13.6666 3.31798 13.6666 6.99998C13.6666 10.682 10.682 13.6666 6.99998 13.6666ZM6.22931 9.98998L10.9426 5.27598L9.99998 4.33331L6.22931 8.10465L4.34331 6.21865L3.40065 7.16131L6.22931 9.98998Z" fill='currentColor'></path></svg>${n}</em>`)};c(r);const l=n=>{r=n,c(n),a.classList.remove("valid"),a.classList.add("invalid")},u=()=>{const n=a.querySelectorAll('input[type="radio"]');if(a.querySelectorAll('input[type="radio"]:checked').length){n.forEach(d=>{d.classList.remove("invalid"),d.removeAttribute("required")}),a.querySelector("em").remove();return}l(i.radio)};return e.value.length?e.type==="number"?(e.min&&Number(e.value)<e.min&&l(`${i.min} ${e.min}`),e.max&&Number(e.value)>e.max&&l(`${i.max} ${e.max}`)):(e.name==="password"&&!h.test(e.value)&&l(i.password),e.min&&Number(e.value.length)<e.min&&l(`${i.minLange} ${e.min} characters`),e.max&&Number(e.value.length)>e.max&&l(`${i.maxLange} ${e.max} characters`),e.name==="name"&&v.test(e.value)&&l(i.name),e.type==="email"&&!L.test(e.value)&&l(i.email),e.type==="radio"&&u()):l(i.empty),r},b=t=>{const e=t,r=e.closest("fieldset"),s=(e.type==="radio"?r:e.closest("label"))||r,a=s.querySelector("em");s.classList.remove("invalid"),s.classList.remove("valid"),a&&a.remove()},x=t=>{let e=0;return t.querySelectorAll("[required]").forEach(o=>{g(o).includes("Success")||(e+=1)}),e},A=t=>{t.querySelectorAll("input").forEach(r=>{if(r.type!=="hidden"){r.value="";const o=r.type==="radio"?r.closest("fieldset"):r.closest("label"),s=o.querySelector("em");o.classList.remove("valid","invalid"),s&&s.remove()}})},C=t=>{t.querySelectorAll("input").forEach(r=>{r.type!=="hidden"&&b(r)})},S=({isloading:t,enctype:e,children:r,onSubmit:o})=>{const s=a=>{a.preventDefault(),!(x(a.target)>0)&&o&&o(a)};return p.jsx(f,{action:"#",method:"post",noValidate:!0,onSubmit:s,enctype:e,"data-loading":t?"true":"false",children:r})};export{S as F,C as a,A as c,g as v};
